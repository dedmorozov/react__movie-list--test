(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{18:function(e,t,n){},20:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n(1),a=n.n(s),r=n(10),i=n.n(r),o=(n(18),n(3)),l=n(4),d=n(6),u=n(5),j=n(12),h=function(e){var t=e.title,n=e.year,s=e.imgUrl,a=e.episode,r=e.openInNewTab;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:r,type:"button",className:"button__link",children:Object(c.jsx)("img",{className:"card__img",src:s,alt:"Film logo"})})}),Object(c.jsxs)("div",{className:"card__description description",children:[Object(c.jsx)("h1",{className:"description__title",children:t}),Object(c.jsx)("p",{className:"description__year",children:n}),Object(c.jsx)("div",{className:"description__episode",children:a})]})]})})},b=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.preparedShows;return Object(c.jsx)("div",{className:"content",children:Object(c.jsx)("ul",{className:"content__list list",children:e.map((function(e){return Object(c.jsx)("li",{className:"list__item",children:Object(c.jsx)(h,{title:e._embedded.show.name,year:e._embedded.show.premiered.split("",4).join(""),imgUrl:null!==e._embedded.show.image?e._embedded.show.image.medium:"",episode:"\u0421\u0435\u0437\u043e\u043d: ".concat(e.season," \u042d\u043f\u0438\u0437\u043e\u0434: ").concat(e.number),openInNewTab:null!==e._embedded.show.image?function(){return window.open(e._embedded.show.image.original,"_blank","noopener, noreferrer")}:function(){return window.open("https://google.com/search?q=".concat(e._embedded.show.name," series pictures"),"_blank","noopener, noreferrer")}})},e.id)}))})})}}]),n}(s.PureComponent);b.defaultProps={preparedShows:[]};var m=n.p+"static/media/televisor.3bca90b2.png",p=n(8),_=n.n(p),O=n(11);function x(e){return fetch("".concat("https://api.tvmaze.com").concat(e)).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))}function f(){return(f=Object(O.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(20),n(21);var g=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={selectedDay:"",isSelected:!1,shows:[]},e.onDaySelected=function(t){e.setState({selectedDay:new Date(t),isSelected:!0})},e.goBack=function(){e.setState({selectedDay:"",isSelected:!1})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;(function(e){return f.apply(this,arguments)})("/schedule/full").then((function(t){return e.setState({shows:t})}))}},{key:"render",value:function(){var e=[],t=this.state,n=t.selectedDay,s=t.isSelected,a=t.shows,r=this.onDaySelected;return s&&(e=a.filter((function(e){return e.airdate===n.toLocaleString().slice(0,-10).split(".").reverse().join("-")}))),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("header",{className:"container header",children:Object(c.jsx)("div",{className:"header__title",children:Object(c.jsx)("h1",{className:"header__title header__title--text",children:"SUPER FILM"})})}),s?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"content__date date",children:Object(c.jsx)("h1",{className:"date__text",children:n.toLocaleString("ru",{year:"numeric",month:"long",day:"numeric"}).slice(0,-3)})}),Object(c.jsx)("button",{type:"button",onClick:this.goBack,className:"header__button button"}),Object(c.jsx)("div",{className:"content",children:Object(c.jsx)(b,{preparedShows:e})})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("section",{className:"block",children:Object(c.jsxs)("div",{className:"block__start start",children:[Object(c.jsx)("div",{children:Object(c.jsx)("img",{className:"start__img",src:m,alt:"tv"})}),Object(c.jsx)("p",{className:"start__text",children:"\u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0441\u0435\u0440\u0438\u0430\u043b\u043e\u0432, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u043c\u0435\u0441\u044f\u0446 \u0438 \u0434\u0435\u043d\u044c"})]})}),Object(c.jsx)(j.a,{onClickDay:r})]})]})}}]),n}(a.a.Component),v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root")),v()}},[[24,1,2]]]);
//# sourceMappingURL=main.be560439.chunk.js.map